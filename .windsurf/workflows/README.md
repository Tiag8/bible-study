# THE METHOD - Sistema de Workflows para Vibe Coding Profissional

**VersÃ£o**: 1.0.0 | **Data**: 2026-01-01

---

## O que Ã©?

Sistema de workflows estruturados para desenvolvimento AI-assisted que garante:
- âœ… Qualidade consistente
- âœ… Zero regressÃµes
- âœ… Rastreabilidade completa
- âœ… Escalabilidade para qualquer projeto

---

## Quick Start (5 min)

| SituaÃ§Ã£o | AÃ§Ã£o |
|----------|------|
| Nova feature? | WF-00 Setup â†’ WF-01 Planning |
| Bug crÃ­tico? | `SPECIAL-fast-track.md` |
| Debug complexo? | `/rca-debugger` skill |
| DÃºvida qual workflow? | `/workflow-navigator` skill |

---

## Fluxo Principal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           WORKFLOW SEQUENCE                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚   WF-00 Setup â”€â”€â”€â”€â”€â”€â–º WF-01 Planning â”€â”€â”€â”€â”€â”€â–º WF-02a/b Design                 â”‚
â”‚        â”‚                    â”‚                      â”‚                          â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                             â”‚                                                 â”‚
â”‚                             â–¼                                                 â”‚
â”‚   WF-03/3.5 Tasks â—„â”€â”€ WF-04.5 Gates (a-f) â”€â”€â–º WF-05a Implementation          â”‚
â”‚                                                      â”‚                        â”‚
â”‚                                                      â–¼                        â”‚
â”‚   WF-05b Refactoring â—„â”€â”€â”€â”€â–º WF-06a/b/c Validation                            â”‚
â”‚        â”‚                          â”‚                                           â”‚
â”‚        â”‚    (Max 5 iteraÃ§Ãµes)     â”‚                                           â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚                                                                               â”‚
â”‚                             â–¼                                                 â”‚
â”‚   WF-07a/b Quality â”€â”€â–º WF-08a/b Meta-Learning â”€â”€â–º WF-09a/b Finalization      â”‚
â”‚                                                          â”‚                    â”‚
â”‚                                                          â–¼                    â”‚
â”‚   WF-10 Template â”€â”€â–º WF-11a/b Deploy â”€â”€â–º WF-12 Merge â”€â”€â–º WF-13a/b Post-Deploy â”‚
â”‚                                                                â”‚              â”‚
â”‚                                                                â–¼              â”‚
â”‚                                                        WF-14 Consolidation   â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Ãndice de Workflows

### Fase 0: Setup
| Arquivo | DescriÃ§Ã£o |
|---------|-----------|
| `add-feature-0-setup-unified.md` | Setup unificado (Context + Backup + Branch) |

### Fase 1-3: Planning & Design
| Arquivo | DescriÃ§Ã£o |
|---------|-----------|
| `add-feature-1-planning.md` | Planning + GATE 1 Reframing |
| `add-feature-2a-solutions.md` | Research & Decision (3 soluÃ§Ãµes) |
| `add-feature-2b-technical-design.md` | Technical Design |
| `add-feature-3-risk-analysis.md` | Risk Analysis |
| `add-feature-3.5-tasks.md` | Task Breakdown (tasks.md) |

### Fase 4.5: Pre-Implementation Gates
| Arquivo | DescriÃ§Ã£o |
|---------|-----------|
| `add-feature-4.5-pre-implementation-gates.md` | Orchestrador dos gates |
| `add-feature-4.5a-environment.md` | Environment validation (SEMPRE PRIMEIRO) |
| `add-feature-4.5b-database.md` | Database/FK validation |
| `add-feature-4.5c-ai-tools.md` | AI/Gemini tools validation |
| `add-feature-4.5d-edge-functions.md` | Edge Functions validation |
| `add-feature-4.5e-code-quality.md` | Code quality gates (SEMPRE) |
| `add-feature-4.5f-qa-deploy.md` | QA & pre-deploy (SEMPRE ÃšLTIMO) |

### Fase 5-6: Implementation & Validation
| Arquivo | DescriÃ§Ã£o |
|---------|-----------|
| `add-feature-5a-implementation.md` | Implementation (TDD, Gates) |
| `add-feature-5b-refactoring-rca.md` | Refactoring + RCA 5 Whys |
| `add-feature-6a-user-validation.md` | User Validation |
| `add-feature-6b-rca-edge-cases.md` | RCA Edge Cases |
| `add-feature-6c-visual-refinement.md` | Visual Refinement (UI-heavy) |

### Fase 7-9: Quality & Finalization
| Arquivo | DescriÃ§Ã£o |
|---------|-----------|
| `add-feature-7a-quality-gates.md` | Quality Gates (Build, Tests) |
| `add-feature-7b-rca-security.md` | RCA Security |
| `add-feature-8a-meta-learning.md` | Meta-Learning |
| `add-feature-8b-pareto-analysis.md` | Pareto 80/20 Analysis |
| `add-feature-9a-finalization.md` | Finalization |
| `add-feature-9b-retrospective.md` | Retrospective |

### Fase 10-14: Deploy & Post-Deploy
| Arquivo | DescriÃ§Ã£o |
|---------|-----------|
| `add-feature-10-template-sync.md` | Template Sync |
| `add-feature-11-vps-deployment-unified.md` | VPS Deployment Unificado (Prep + Exec) â­ |
| ~~`add-feature-11a-vps-deployment-prep.md`~~ | ~~VPS Deployment Prep~~ (DEPRECATED - usar unified) |
| ~~`add-feature-11b-vps-deployment-exec.md`~~ | ~~VPS Deployment Exec~~ (DEPRECATED - usar unified) |
| `add-feature-11c1a-vps-monitoring.md` | VPS Monitoring |
| `add-feature-11c1b-rca-rollback.md` | RCA Rollback |
| `add-feature-11c2-vps-rollback-docs.md` | Rollback Docs |
| `add-feature-12-merge-to-main.md` | Merge to Main |
| `add-feature-13a-post-deploy.md` | Post-Deploy Validation |
| `add-feature-13b-rca-metrics.md` | RCA Metrics |
| `add-feature-14-meta-learning-consolidation.md` | Meta-Learning Consolidation |

### Special Workflows
| Arquivo | DescriÃ§Ã£o |
|---------|-----------|
| `add-feature-fast-track-critical-bug.md` | Fast-track para bugs crÃ­ticos |
| `debug-complex-problem.md` | Debug multi-agent |
| `ultra-think.md` | Deep thinking mode |

---

## PadronizaÃ§Ã£o de Severidade de GATEs (GAP-012)

### NÃ­veis de Severidade

| SÃ­mbolo | NÃ­vel | Significado | AÃ§Ã£o |
|---------|-------|-------------|------|
| â›” | **BLOQUEIO ABSOLUTO** | Impede prosseguimento | PARAR e resolver antes de continuar |
| ğŸ”´ | **CRÃTICO** | Problema grave | Resolver imediatamente (< 15min) |
| âš ï¸ | **WARNING** | AtenÃ§Ã£o necessÃ¡ria | Avaliar e documentar decisÃ£o |
| ğŸŸ¡ | **MÃ‰DIO** | Problema moderado | Resolver antes do merge |
| ğŸŸ¢ | **BAIXO** | Problema menor | Documentar para prÃ³xima iteraÃ§Ã£o |
| â„¹ï¸ | **INFO** | Informativo | Opcional, boa prÃ¡tica |

### Quando Usar Cada NÃ­vel

```
â›” BLOQUEIO ABSOLUTO - Usar quando:
â”œâ”€â”€ SeguranÃ§a comprometida (RLS bypass, secrets expostos)
â”œâ”€â”€ Data integrity em risco (migrations sem rollback)
â”œâ”€â”€ ProduÃ§Ã£o vai quebrar (deploy sem validaÃ§Ã£o)
â””â”€â”€ Regra sistÃªmica violada (GATE 1 nÃ£o executado)

ğŸ”´ CRÃTICO - Usar quando:
â”œâ”€â”€ Funcionalidade core quebrada
â”œâ”€â”€ Performance degradada > 5x
â”œâ”€â”€ Testes crÃ­ticos falhando
â””â”€â”€ Schema-code mismatch

âš ï¸ WARNING - Usar quando:
â”œâ”€â”€ Best practice nÃ£o seguida
â”œâ”€â”€ DocumentaÃ§Ã£o desatualizada
â”œâ”€â”€ Coverage < target
â””â”€â”€ DecisÃ£o precisa aprovaÃ§Ã£o

ğŸŸ¡ MÃ‰DIO - Usar quando:
â”œâ”€â”€ Bug nÃ£o-bloqueante
â”œâ”€â”€ Technical debt identificado
â”œâ”€â”€ Refactoring desejÃ¡vel
â””â”€â”€ Teste faltante (nÃ£o crÃ­tico)

ğŸŸ¢ BAIXO - Usar quando:
â”œâ”€â”€ Melhoria cosmÃ©tica
â”œâ”€â”€ OtimizaÃ§Ã£o opcional
â”œâ”€â”€ DocumentaÃ§Ã£o extra
â””â”€â”€ Nice-to-have

â„¹ï¸ INFO - Usar quando:
â”œâ”€â”€ Contexto adicional
â”œâ”€â”€ ReferÃªncia a docs
â”œâ”€â”€ Dica de produtividade
â””â”€â”€ SugestÃ£o nÃ£o obrigatÃ³ria
```

### EscalaÃ§Ã£o de Severidade

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REGRA DE ESCALAÃ‡ÃƒO                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  SE âš ï¸ WARNING ignorado 2x consecutivas:                        â”‚
â”‚     â†’ Escalar para ğŸ”´ CRÃTICO                                   â”‚
â”‚                                                                  â”‚
â”‚  SE ğŸ”´ CRÃTICO nÃ£o resolvido em 15min:                          â”‚
â”‚     â†’ Escalar para â›” BLOQUEIO                                  â”‚
â”‚                                                                  â”‚
â”‚  SE â›” BLOQUEIO encontrado:                                     â”‚
â”‚     â†’ PARAR IMEDIATAMENTE                                       â”‚
â”‚     â†’ Documentar em .context/{branch}_decisions.md              â”‚
â”‚     â†’ Resolver antes de qualquer outra aÃ§Ã£o                     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Limite de IteraÃ§Ãµes (GAP-010)

### Loop WF-5a â†” WF-5b

| IteraÃ§Ãµes | Status | AÃ§Ã£o |
|-----------|--------|------|
| 1-2 | âœ… Normal | Continuar ciclo |
| 3 | âš ï¸ Alerta | Documentar padrÃ£o de falha |
| 4 | ğŸ”´ CrÃ­tico | Consultar skill `party-mode` |
| 5+ | â›” BLOQUEIO | Regredir para workflow anterior |

Ver detalhes em `add-feature-5b-refactoring-rca.md` seÃ§Ã£o "LIMITE DE ITERAÃ‡Ã•ES".

---

## CritÃ©rios de Entrada por Workflow

### WF-6c (Visual Refinement) - CritÃ©rios Objetivos (GAP-009)

**EXECUTAR SE**:
- âœ… Feature tem 80%+ cÃ³digo frontend (landing, dashboard, onboarding)
- âœ… Workflow 6a (ValidaÃ§Ã£o TÃ©cnica) completo com GATE 3 aprovado
- âœ… Screenshots BEFORE/AFTER capturados
- âœ… UsuÃ¡rio explicitamente pediu refinamento visual OU mÃºltiplos aspectos visuais a ajustar

**SKIP SE**:
- âŒ Feature Ã© 80%+ backend (Edge Functions, migrations)
- âŒ Workflow 6a nÃ£o completo
- âŒ Apenas 1-2 ajustes visuais menores (fazer inline no WF-5a)

---

## Output Templates

### WF-8b (Pareto Analysis) - Template de Output (GAP-015)

```markdown
## AnÃ¡lise Pareto 80/20 - [Feature Name]

**Data**: [YYYY-MM-DD HH:MM]
**Agentes**: 5 paralelos (Workflows, Scripts, Docs, PadrÃµes, ConsolidaÃ§Ã£o)

### Top 5-7 Melhorias Identificadas

| # | AÃ§Ã£o | Categoria | Tempo (h) | RCA? | Causa Raiz | Score |
|---|------|-----------|-----------|------|------------|-------|
| 1 | [AÃ§Ã£o] | [Cat] | [X.X] | âœ…/âŒ | [Causa] | [N]/10 |
| 2 | [AÃ§Ã£o] | [Cat] | [X.X] | âœ…/âŒ | [Causa] | [N]/10 |
| ... | ... | ... | ... | ... | ... | ... |

### Justificativa

[Por que estas melhorias foram selecionadas]

### Ordem de ExecuÃ§Ã£o Recomendada

1. [Melhoria X] - [Por que primeiro]
2. [Melhoria Y] - [DependÃªncia de X]
3. ...

### Score Projetado

- **Antes**: [X]/10
- **Depois**: [Y]/10
- **Ganho**: +[Z] pontos

### DecisÃ£o do UsuÃ¡rio

- [ ] Implementar TODAS
- [ ] Implementar selecionadas: [listar]
- [ ] NÃ£o implementar (aceitar score atual)

**Aguardando aprovaÃ§Ã£o...** ğŸš¦
```

---

## ConvenÃ§Ãµes de Arquivos

### Nomenclatura
- Prefixo: `add-feature-[N]-nome.md`
- N = nÃºmero do workflow (0-14)
- Letras para sub-workflows: `a`, `b`, `c`...

### Estrutura ObrigatÃ³ria
```markdown
---
description: Workflow [N] - [Nome]
auto_execution_mode: 1
---

## ğŸ“š PrÃ©-requisito
[Links para workflows anteriores]

## ğŸ§  FASE 0: LOAD CONTEXT
[Script de carregamento]

## [FASES DO WORKFLOW]
[ConteÃºdo...]

## ğŸ§­ WORKFLOW NAVIGATOR
[PrÃ³ximo, desvios, quando voltar]

## ğŸ§  FASE FINAL: UPDATE CONTEXT
[Scripts de atualizaÃ§Ã£o]
```

### Limite de Tamanho
- **MÃ¡ximo**: 12.000 caracteres
- **Se exceder**: Dividir em partes (a, b, c...)

---

## Scripts Relacionados

| Script | FunÃ§Ã£o |
|--------|--------|
| `./scripts/context-init.sh` | Criar estrutura .context/ |
| `./scripts/context-load-all.sh` | Carregar contexto |
| `./scripts/context-read-all.sh` | Ler todos arquivos .context/ |
| `./scripts/validate-gate-1-executed.sh` | Validar GATE 1 |
| `./scripts/impact-mapper.sh` | Mapear impacto 4 camadas |
| `./scripts/db-dependency-checker.sh` | Verificar dependÃªncias DB |
| `./scripts/deploy-vps-rsync.sh` | Deploy VPS (recomendado) |
| `./scripts/vps-rollback.sh` | Rollback VPS |

---

## Skills Relacionadas

| Skill | Quando Usar |
|-------|-------------|
| `/workflow-navigator` | DÃºvida qual workflow executar |
| `/party-mode` | DecisÃ£o complexa (multi-agente) |
| `/rca-debugger` | Debug sistemÃ¡tico |
| `/serena` | Impact mapping semÃ¢ntico |
| `/supabase-expert` | Migrations, RLS, schema |

---

## Troubleshooting

### "Qual workflow devo usar?"
Execute `/workflow-navigator` com contexto da tarefa.

### "Loop infinito entre 5aâ†”5b"
Verificar contador de iteraÃ§Ãµes. Se >= 5, regredir conforme Ã¡rvore de decisÃ£o em WF-5b.

### "GATE bloqueando sem razÃ£o clara"
Verificar `.context/{branch}_attempts.log` para histÃ³rico de tentativas.

### "Workflow muito grande (> 12k chars)"
Dividir em partes (a, b, c...) mantendo referÃªncias cruzadas.

---

## Changelog

**v1.0.0** (2026-01-01):
- CriaÃ§Ã£o do README.md
- PadronizaÃ§Ã£o de severidade (GAP-012)
- DocumentaÃ§Ã£o de limite de iteraÃ§Ãµes (GAP-010)
- CritÃ©rios de entrada WF-6c (GAP-009)
- Template output WF-8b (GAP-015)

---

*Criado como parte do sistema THE METHOD para vibe coding profissional.*
